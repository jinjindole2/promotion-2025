# 마케팅 프로모션 플랫폼

## 1. 프로젝트 개요
- 고객에게 기업들의 마케팅 프로모션을 제공하는 플랫폼 입니다.
- 고객은 프로모션을 참여 / 취소 / 완료할 수 있고, 프로모션을 완료하면 리워드를 지급받습니다.

## 2. 프로젝트 기술 스택
- Kotlin
- Spring Boot
- Spring Data JPA
- MySql
- Kafka
- Redis
- Spring Batch
  - 일 집계
  - 리워드 정산
  - 리워드 일괄지급 or 실패건 일괄지급
  - 리워드 지급상태 확인

## 3. 시스템 구성도

### 0) TODO
- 프로모션 API 이외에도 고객 API, 고객사 API, 리워드 API, API 게이트웨이 등도 추가할지
- 최종적으로 운영환경(클라우드)에 적용할지

### 1) 전체 구성도

### 2) 프로모션 등록
![시스템구성도(프로모션 참여).png](image/시스템구성도(프로모션_참여).png)

### 3) 프로모션 참여
![시스템구성도(프로모션 등록).png](image/시스템구성도(프로모션_등록).png)

### 4) 프로모션 등록
작성 중

## 4. Use Case

### 1) 관리자: 프로모션 등록 / 조회 / 수정 / 삭제

- 관리자는 프로모션을 등록 / 조회 / 수정 / 삭제 할수 있습니다.
- 프로모션에 참여정책을 등록할수 있습니다. 참여정책은 중복해서 선택 가능합니다.
  1. 프로모션은 참여인원 제한이 존재합니다. (기본) 
  2. 고객은 같은 프로모션을 하루에 한번만 참여할 수 었습니다. (기본)
  3. 고객은 같은 프로모션을 최대 N번 참여할수 있습니다. (선택)
  4. 선행 프로모션을 먼저 참여해야만 참여할 수 있습니다. (선택)
- 프로모션은 완료정책이 존재합니다. (미정)
  1. 프로모션을 일정기간 내에 완료해야합니다.

### 2) 고객: 프로모션 조회
- 고객은 프로모션 목록을 조회할 수 있습니다. (최대 10개씩 페이징 처리)
- 고객이 참여 가능할 프로모션만 조회됩니다.
- 프로모션은 리워드 금액가 큰 순서로 표기됩니다.

### 3) 고객: 프로모션 참여
- 고객은 프로모션을 선택해 참여합니다.
- 고객이 참여하면 프로모션의 참여인원수가 증가합니다.
- 프로모션 참여는 대규모트래픽이 발생할 수 있습니다.

### 4) 고객: 프로모션 참여
- 고객은 참여한 프로모션에 대해 참여취소할 수 있습니다.
- 참여 취소할 경우, 프로모션

### 4) 고객: 프로모션 완료
- 프로모션이 완료되면 고객에게 리워드가 지급됩니다.

## 5. ERD
https://app.diagrams.net/#G1HQSQKTQUeqworksaMVQbKqjqfPWWEqP_#%7B%22pageId%22%3A%22l2j7YGflX5Q0iSekINy0%22%7D